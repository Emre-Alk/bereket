<%# en tete %>
<div class="mb-5">
  <div class="flex justify-center items-center">
    <h1 class=""><%= @place.name.split(' ').map(&:capitalize).join(' ') %></h1>
    <span class="fa-stack fa-2xs scale-75" style="vertical-align: baseline;" >
      <%= icon('fa-solid', 'certificate', class:'fa-stack-2x', style:'color: #0471FF;') %>
      <%= icon('fa-solid', 'check', class:'fa-stack-1x', style:'color: white;') %>
    </span>
  </div>
</div>


<%# banner of the place %>
<% if @place.place_image.attached? %>
  <div class="h-40">
      <img src="<%= @place.place_image %>" class="rounded-t-lg object-cover" alt="image of the place">
  </div>
<% else %>
  <div class="flex justify-center items-center h-40 w-full bg-gray-300">
    <%= svg_tag('image_empty', class:'size-20 bg-inherit text-gray-200') %>
  </div>
<% end %>


<div class="mb-4 mt-2 flex flex-row items-start">
  <%# ratings and score %>
  <div class="basis-1/3 flex items-center justify-start gap-x-1 ms-2">
    <p class=" text-black"><%= @score %></p>
    <%= svg_tag('star', class:'size-4 scale-90 text-black') %>
    <p class=" font-light text-gray-600"><%= @reviews.length > 100 ? "(#{number_to_rounded(@reviews.length, local: :fr, precision: 0, round_mode: :down)}+)" : "(#{@reviews.length})" %></p>
  </div>

  <%# subscribe btn (feature for later so people can see posts from this place =/ than add to fav) %>

  <%# Donate btn %>
  <div class="basis-1/3 py-2 px-4 bg-black text-white rounded-lg tracking-wide">
    <%= link_to "Faire un don", new_place_donation_path(@place), class:''%>
  </div>

  <%# ajouter en fav %>
  <div class="basis-1/3">
    <% if @donator.enrolled? %>
        <%= render partial:"favorites/favorite_icon", locals: { donator: @donator, place: @place, favorite: @favorite } %>
    <% end %>
  </div>
</div>

<%# info on place %>
<div class="flex flex-col border-y border-black/30 px-5 py-2">
  <%# address %>
  <div class="flex flex-row gap-4 justify-start items-baseline  px-2 py-1" data-controller="clipboard" data-action="click->clipboard#copy">
    <%= icon("fa-solid", "location-dot") %>
    <button data-clipboard-target="source">
      <%= @place.street_no %> <%= @place.address %>, <%= @place.city %> <%= @place.zip_code %>, <%= @place.country %>
    </button>
  </div>

  <%# Opening hours %>


</div>

<%# my wall %>
<div>
  <%# bio %>
  <div>
    <%# model bio to be created %>
  </div>

  <div>
    <%# links %>
  </div>

</div>

<%# share to the community %>
<div>
  <%# cagnotte for some project %>
</div>

<%# review card %>
<div class="mx-5 my-5">
  <%= render partial:'reviews/index', locals: { reviews: @reviews } %>
</div>
