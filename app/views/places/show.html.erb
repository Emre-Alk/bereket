<!--
<h1>this is show page of a place for donators</h1>

<div>
  <p><strong>name:</strong> <%= @place.name %></p> <br>

  <p><strong>address:</strong> <%= @place.address %></p> <br>
  <p><strong>street_no:</strong> <%= @place.street_no %></p> <br>
  <p><strong>city:</strong> <%= @place.city %></p><br>
  <p><strong>country:</strong> <%= @place.country %></p><br>
  <p><strong>place type:</strong> <%= @place.place_type.name %></p>
  <div>
    <% if @place.place_image.attached? %>
      <%= image_tag @place.place_image %>
    <% else %>
      <%= image_tag("default_avatar.png", class:"size-12") %>
    <% end %>
  </div>

  <%# display qr code if logic is png w/ method "attach_qr_code_png" %>
  <%# <p><strong>place Qrcode:</strong> pe image_tag @place.qr_image pe</p> %>
  <%# display qr code if logic is svg w/out attach to model instance %>
  <%# <p><strong>place Qrcode:</strong> pe @qr_code_svg.html_safe pe </p> %>
  <%# display qr code if logic is svg w/ method "attach_qr_code_svg" %>

  <div>
    <p><strong>place Qrcode:</strong></p>
    <div class="size-fit scale-50">
      <%= render partial: "assos/places/qr_code", locals: { place: @place } %>
    </div>
  </div>

  <% if current_user && current_user.donator? %>
    <div class="w-fit" >
      <%= render partial: "favorites/favorite_icon", locals: { place: @place, donator: @donator, favorite: @favorite } %>
    </div>
  <% end %>
</div>
-->

<%# en tete %>
<div class="mb-5">
  <div class="flex justify-center items-center">
    <h1 class=""><%= @place.name.split(' ').map(&:capitalize).join(' ') %></h1>
    <span class="fa-stack fa-2xs scale-75" style="vertical-align: baseline;" >
      <%= icon('fa-solid', 'certificate', class:'fa-stack-2x', style:'color: #0471FF;') %>
      <%= icon('fa-solid', 'check', class:'fa-stack-1x', style:'color: white;') %>
    </span>
  </div>
</div>


<%# banner of the place %>
<% if @place.place_image.attached? %>
  <div class="h-40">
      <img src="<%= @place.place_image %>" class="rounded-t-lg object-cover" alt="image of the place">
  </div>
<% else %>
  <div class="flex justify-center items-center h-40 w-full bg-gray-300">
    <%= svg_tag('image_empty', class:'size-20 bg-inherit text-gray-200') %>
  </div>
<% end %>


<div class="relative bg-pink-300">
  <%# ratings and score %>
  <div class="flex items-center gap-x-1 ms-2">
    <p class="text-sm text-black">4.95</p>
    <%= svg_tag('star', class:'size-4 scale-90 text-black') %>
    <a href="#" class="text-sm font-light text-black">(73 +)</a>
  </div>

  <%# subscribe btn (feature for later so people can see posts from this place =/ than add to fav) %>

  <%# ajouter en fav %>
  <% if @donator.enrolled? %>
    <div class="absolute top-2 right-2">
      <%= render partial:"favorites/favorite_icon", locals: { donator: @donator, place: @place, favorite: @favorite } %>
    </div>
  <% end %>
</div>

<%# my wall %>
<div>
  <%# bio %>
  <div>
    <%# model bio to be created %>
  </div>

  <div>
    <%# links %>
  </div>

</div>

<%# share to the community %>
<div>
  <%# cagnotte for some project %>
</div>

  <%# review card %>
<div class="mx-5">
  <% @reviews.each do |review| %>
    <article>
      <%# who %>
      <div class="flex items-center mb-4">
        <%# profile img of donator %>
        <% if review.donator.profile_image.attached? %>
          <%= image_tag(review.donator.profile_image, class:"size-14 rounded-full") %>
        <% else %>
          <%= image_tag("default_avatar.png", alt:"picture", class:"rounded-full size-20 mb-1") %>
        <% end %>

        <%# donator name and date of review %>
        <div class="ms-2">
          <p><%= review.donator.first_name.capitalize %></p>
        </div>

      </div>

      <%# rating score %>
      <div class="flex items-center">
        <div class="flex items-center mb-1 space-x-1 rtl:space-x-reverse">
          <% review.rating.times do %>
            <%= svg_tag('star', class:'size-4 scale-90 text-black') %>
          <% end %>
          <%= svg_tag('star', class:'size-4 scale-90 text-gray-300') unless review.rating.to_i == 5 %>
        </div>
        <span class="w-1 h-1 mx-1.5 bg-gray-500 rounded-full"></span>
        <div class="text-sm text-black">
          <p> <%= distance_of_time_in_words_to_now(review.created_at) %> </p>
        </div>
      </div>


      <%# content %>
      <% if !review.content.empty? %>
        <p class="line-clamp-3 text-sm"> <%= review.content %></p>
        <a href="#" class="block mb-5 text-sm font-medium text-blue-600 hover:underline dark:text-blue-500">Read more</a>
      <% else %>
        <p class="line-clamp-3 text-sm">ERTYUIOPFDFGHJKLMLKJfghjklmljhgvcvhjkdcbzevfverobreobvreovreovjbeorbverobverobvreobveorbvrebverohvbeorvberohvberohvberhvberovhbero</p>
      <% end %>

      <%# <aside>
        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">19 people found this helpful</p>
        <div class="flex items-center mt-3">
            <a href="#" class="px-2 py-1.5 text-xs font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Helpful</a>
            <a href="#" class="ps-4 text-sm font-medium text-blue-600 hover:underline dark:text-blue-500 border-gray-200 ms-4 border-s md:mb-0 dark:border-gray-600">Report abuse</a>
        </div>
      </aside> %>

    </article>
  <% end %>
</div>
